import npath from "path";
async function createRenderer(renderer, impl) {
  const resolvedRenderer = {};
  const {
    default: { name, client, polyfills, hydrationPolyfills, server }
  } = await impl.renderer(renderer);
  resolvedRenderer.name = name;
  if (client)
    resolvedRenderer.source = npath.posix.join(renderer, client);
  resolvedRenderer.serverEntry = npath.posix.join(renderer, server);
  if (Array.isArray(hydrationPolyfills))
    resolvedRenderer.hydrationPolyfills = hydrationPolyfills.map((src) => npath.posix.join(renderer, src));
  if (Array.isArray(polyfills))
    resolvedRenderer.polyfills = polyfills.map((src) => npath.posix.join(renderer, src));
  const { default: rendererSSR } = await impl.server(resolvedRenderer.serverEntry);
  resolvedRenderer.ssr = rendererSSR;
  const completedRenderer = resolvedRenderer;
  return completedRenderer;
}
export {
  createRenderer
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3JjL2NvcmUvcmVuZGVyL3JlbmRlcmVyLnRzIl0sCiAgIm1hcHBpbmdzIjogIkFBRUE7QUFPQSw4QkFBcUMsVUFBa0IsTUFBc0M7QUFDNUYsUUFBTSxtQkFBd0IsQ0FBQztBQUkvQixRQUFNO0FBQUEsSUFDTCxTQUFTLEVBQUUsTUFBTSxRQUFRLFdBQVcsb0JBQW9CO0FBQUEsTUFDckQsTUFBTSxLQUFLLFNBQVMsUUFBUTtBQUVoQyxtQkFBaUIsT0FBTztBQUN4QixNQUFJO0FBQVEscUJBQWlCLFNBQVMsTUFBTSxNQUFNLEtBQUssVUFBVSxNQUFNO0FBQ3ZFLG1CQUFpQixjQUFjLE1BQU0sTUFBTSxLQUFLLFVBQVUsTUFBTTtBQUNoRSxNQUFJLE1BQU0sUUFBUSxrQkFBa0I7QUFBRyxxQkFBaUIscUJBQXFCLG1CQUFtQixJQUFJLENBQUMsUUFBZ0IsTUFBTSxNQUFNLEtBQUssVUFBVSxHQUFHLENBQUM7QUFDcEosTUFBSSxNQUFNLFFBQVEsU0FBUztBQUFHLHFCQUFpQixZQUFZLFVBQVUsSUFBSSxDQUFDLFFBQWdCLE1BQU0sTUFBTSxLQUFLLFVBQVUsR0FBRyxDQUFDO0FBRXpILFFBQU0sRUFBRSxTQUFTLGdCQUFnQixNQUFNLEtBQUssT0FBTyxpQkFBaUIsV0FBVztBQUMvRSxtQkFBaUIsTUFBTTtBQUV2QixRQUFNLG9CQUE4QjtBQUNwQyxTQUFPO0FBQ1I7IiwKICAibmFtZXMiOiBbXQp9Cg==
