import { STYLE_EXTENSIONS } from "../core/render/dev/css.js";
function getViteTransform(viteConfig) {
  const viteCSSPlugin = viteConfig.plugins.find(({ name }) => name === "vite:css");
  if (!viteCSSPlugin)
    throw new Error(`vite:css plugin couldn\u2019t be found`);
  if (!viteCSSPlugin.transform)
    throw new Error(`vite:css has no transform() hook`);
  return viteCSSPlugin.transform.bind(null);
}
async function transformWithVite({ value, lang, transformHook, id, ssr }) {
  if (!STYLE_EXTENSIONS.has(lang)) {
    return null;
  }
  return transformHook(value, id + `?astro&type=style&lang${lang}`, ssr);
}
export {
  getViteTransform,
  transformWithVite
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc3JjL3ZpdGUtcGx1Z2luLWFzdHJvL3N0eWxlcy50cyJdLAogICJtYXBwaW5ncyI6ICJBQUVBO0FBS08sMEJBQTBCLFlBQWdEO0FBQ2hGLFFBQU0sZ0JBQWdCLFdBQVcsUUFBUSxLQUFLLENBQUMsRUFBRSxXQUFXLFNBQVMsVUFBVTtBQUMvRSxNQUFJLENBQUM7QUFBZSxVQUFNLElBQUksTUFBTSx3Q0FBbUM7QUFDdkUsTUFBSSxDQUFDLGNBQWM7QUFBVyxVQUFNLElBQUksTUFBTSxrQ0FBa0M7QUFDaEYsU0FBTyxjQUFjLFVBQVUsS0FBSyxJQUFXO0FBQ2hEO0FBV0EsaUNBQXdDLEVBQUUsT0FBTyxNQUFNLGVBQWUsSUFBSSxPQUF1RTtBQUNoSixNQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxHQUFHO0FBQ2hDLFdBQU87QUFBQSxFQUNSO0FBQ0EsU0FBTyxjQUFjLE9BQU8sS0FBSyx5QkFBeUIsUUFBUSxHQUFHO0FBQ3RFOyIsCiAgIm5hbWVzIjogW10KfQo=
